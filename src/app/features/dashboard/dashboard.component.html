<div class="container mx-auto">
    <h1 class="text-3xl font-bold text-primary-dark mb-6">Dashboard</h1>

    <app-loading-spinner *ngIf="loading" [fullScreen]="false"></app-loading-spinner>

    <div *ngIf="!loading">
        <!-- Stats Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <!-- Total Shipments -->
            <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Total Shipments</p>
                        <p class="text-3xl font-bold text-primary mt-2">{{ stats.totalShipments }}</p>
                    </div>
                    <div class="text-4xl">üì¶</div>
                </div>
            </div>

            <!-- Active Deliveries -->
            <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Active Deliveries</p>
                        <p class="text-3xl font-bold text-blue-600 mt-2">{{ stats.activeDeliveries }}</p>
                    </div>
                    <div class="text-4xl">üöö</div>
                </div>
            </div>

            <!-- Low Stock Items -->
            <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Low Stock Alerts</p>
                        <p class="text-3xl font-bold text-accent mt-2">{{ stats.lowStockItems }}</p>
                    </div>
                    <div class="text-4xl">‚ö†Ô∏è</div>
                </div>
            </div>

            <!-- Total Inventory -->
            <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Inventory Items</p>
                        <p class="text-3xl font-bold text-success mt-2">{{ stats.totalInventory }}</p>
                    </div>
                    <div class="text-4xl">üìä</div>
                </div>
            </div>
        </div>

        <!-- Recent Shipments -->
        <div class="bg-white rounded-lg shadow mb-8">
            <div class="p-6 border-b">
                <h2 class="text-xl font-bold text-gray-800">Recent Shipments</h2>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ID</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Origin</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Destination</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Produce</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        <tr *ngFor="let shipment of recentShipments" class="hover:bg-gray-50">
                            <td class="px-6 py-4 text-sm">{{ shipment.id }}</td>
                            <td class="px-6 py-4 text-sm">{{ shipment.origin }}</td>
                            <td class="px-6 py-4 text-sm">{{ shipment.destination }}</td>
                            <td class="px-6 py-4 text-sm">{{ shipment.produceType }}</td>
                            <td class="px-6 py-4">
                                <app-status-badge [status]="shipment.status"></app-status-badge>
                            </td>
                        </tr>
                        <tr *ngIf="recentShipments.length === 0">
                            <td colspan="5" class="px-6 py-8 text-center text-gray-500">No shipments found</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Low Stock Items -->
        <div class="bg-white rounded-lg shadow" *ngIf="lowStockInventory.length > 0">
            <div class="p-6 border-b">
                <h2 class="text-xl font-bold text-gray-800">Low Stock Alerts</h2>
            </div>
            <div class="p-6">
                <div class="space-y-3">
                    <div *ngFor="let item of lowStockInventory"
                        class="flex justify-between items-center p-3 bg-amber-50 rounded border border-amber-200">
                        <div>
                            <p class="font-medium text-gray-800">{{ item.produceType }}</p>
                            <p class="text-sm text-gray-600">{{ item.warehouseLocation }}</p>
                        </div>
                        <div class="text-right">
                            <p class="text-lg font-bold text-accent">{{ item.quantity }} {{ item.unit }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>